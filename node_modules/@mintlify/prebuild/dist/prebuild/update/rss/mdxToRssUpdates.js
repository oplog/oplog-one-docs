import { getTags, isUpdate } from '@mintlify/common';
export const mdxToRssUpdates = (tree) => {
    const updates = [];
    const updateComponents = tree.children.filter((child) => isUpdate(child));
    for (const updateComponent of updateComponents) {
        const attributes = updateComponent.attributes;
        const label = attributes.find((attribute) => attribute.type === 'mdxJsxAttribute' && attribute.name === 'label')?.value;
        const description = attributes.find((attribute) => attribute.type === 'mdxJsxAttribute' && attribute.name === 'description')?.value;
        const tags = getTags(updateComponent);
        const validTitle = label?.toString() || undefined;
        const validDescription = description?.toString() || '';
        const validTags = tags.length > 0 ? tags : undefined;
        if (validTitle) {
            updates.push({
                title: validTitle,
                description: validDescription,
                categories: validTags,
            });
        }
    }
    return updates;
};
